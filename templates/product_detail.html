{% extends 'base.html' %}
{% load static %}
{% block content %}
    <div class="col d-flex flex-column overflow-x-hidden h-100 w-100 p-4" id="content">
        <div class="m-auto h-100 w-100 gap-3 p-3">
            <div class="container mx-auto flex-wrap w-100 w-lg-75">
                <div class="col-12 col-md-6 h-100">
                    <div class="pe-2 position-relative">

                        <!-- Full-width images with number text -->
                        <div class="mySlides">
                            <div class="numbertext">1 / 6</div>
                            <img src="{{ product.image.url }}" style="width:100%">
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">2 / 6</div>
                            <img src="{{ product.image.url }}" style="width:100%">
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">3 / 6</div>
                            <img src="{{ product.image.url }}" style="width:100%">
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">4 / 6</div>
                            <img src="{{ product.image.url }}" style="width:100%">
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">5 / 6</div>
                            <img src="{{ product.image.url }}" style="width:100%">
                        </div>

                        <div class="mySlides">
                            <div class="numbertext">6 / 6</div>
                            <img src="{{ product.image.url }}" style="width:100%">
                        </div>

                        <!-- Next and previous buttons -->
                        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                        <a class="next" onclick="plusSlides(1)">&#10095;</a>

                        <!-- Image text -->
                        <div class="caption-container">
                            <p id="caption"></p>
                        </div>

                        <!-- Thumbnail images -->
                        <div class="row">
                            <div class="column">
                                <img class="demo cursor" src="{{ product.image.url }}" style="width:100%"
                                     onclick="currentSlide(1)" alt="The Woods">
                            </div>
                            <div class="column">
                                <img class="demo cursor" src="{{ product.image.url }}" style="width:100%"
                                     onclick="currentSlide(2)" alt="Cinque Terre">
                            </div>
                            <div class="column">
                                <img class="demo cursor" src="{{ product.image.url }}" style="width:100%"
                                     onclick="currentSlide(3)" alt="Mountains and fjords">
                            </div>
                            <div class="column">
                                <img class="demo cursor" src="{{ product.image.url }}" style="width:100%"
                                     onclick="currentSlide(4)" alt="Northern Lights">
                            </div>
                            <div class="column">
                                <img class="demo cursor" src="{{ product.image.url }}" style="width:100%"
                                     onclick="currentSlide(5)" alt="Nature and sunrise">
                            </div>
                            <div class="column">
                                <img class="demo cursor" src="{{ product.image.url }}" style="width:100%" onclick="currentSlide(6)"
                                     alt="Snowy Mountains">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-6 d-flex fit-content flex-wrap px-2">
                    <div class="col-12">
                        <h1 class="primary-color">{{ product.name }}</h1>
                    </div>
                    <div class="col-12">
                        <span class="fa fa-star fa-lg checked"></span>
                        <span class="fa fa-star fa-lg checked"></span>
                        <span class="fa fa-star fa-lg checked"></span>
                        <span class="fa fa-star fa-lg unchecked"></span>
                        <span class="fa fa-star fa-lg unchecked"></span>
                    </div>
                    <div class="col-12 my-2">
                        {% if favorite == 1 %}
                            <button class="btn"><i class="fa-solid fa-heart"></i></button>
                        {% else %}
                            <button class="btn"><i class="fa-regular fa-heart"></i></button>
                        {% endif %}
                        <p class="primary-color">
                            {{ product.description }}
                        </p>
                    </div>
                    <div class="col-12 d-flex pe-5">
                        <h3 class="col-5 primary-color"><span>Price:</span> ${{ product.price }}</h3>
                        <input class="col-4 btn p-0 btn-primary" type="number" id='quantity' placeholder="Quantity"/>
                    </div>
                    <div class="col-12 d-flex mt-3">
                        <button class="col-12 btn-primary btn" id="add_to_cart"
                                value="{{ product.productId }}">Add To Cart</button>
                    </div>
                    <div>
                        <tr>
                            <th>Name</th><th>Rating</th><th>Comment</th><th>Date</th>
                            {% for r in reviews %}
                            <tr>
                                <td>{{ r.reviewerId }}</td>
                                <td>{{ r.rating }}</td>
                                <td>{{ r.comment }}</td>
                                <td>{{ r.reviewDate }}</td>
                            </tr>
                            {% endfor %}
                        </tr>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <script src="{% static 'js/product-detail.js' %}"></script>
{% endblock %}

